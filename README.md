# Axum License Signer

A web-based tool for generating Ed25519 key pairs and signing software licenses, built with [Axum](https://github.com/tokio-rs/axum) and [Shuttle](https://www.shuttle.rs/).

## Features

- **Web Interface**: Simple and intuitive UI for managing keys and signing licenses.
- **Key Generation**: Generate `license_sk.bin` (Private Key) and `license_pk.hex` (Public Key) directly from the browser.
- **Key Persistence**: Keys are saved in the server's working directory. The app automatically loads and displays the current public key on startup.
- **License Signing**: Sign user activation requests (Base64 encoded) to generate a secure license payload.

## Usage

### 1. Run the Application
```bash
cargo run
```
The server will start at `http://localhost:8000`.

### 2. Manage Keys
- **View Key**: On the homepage, the "Key Management" section displays your current Public Key (Hex). Use this key in your client application to verify licenses.
- **Generate Keys**: If no key exists, or if you wish to rotate keys, click **"Regenerate Keys"**. 
    - *Warning*: generating new keys will overwrite `license_sk.bin` and `license_pk.hex`. You must update your client application with the new public key.

### 3. Sign a License
1.  **License ID**: Enter a unique identifier for the license (e.g., email, order ID, or UUID).
2.  **Activation Request**: Paste the Base64-encoded activation request generated by your client application.
    - The request should contain the `app_id` and `hw_hash`.
3.  **Sign**: Click "Sign License". The tool will output a JSON object containing the `payload_b64` and `sig_b64` (signature).

## File Structure

- `src/main.rs`: Main application logic, including the web server, HTML handler, and signing logic.
- `license_sk.bin`: The Ed25519 PRIVATE key (keep this secret!).
- `license_pk.hex`: The Ed25519 PUBLIC key (embed this in your app).

## Deployment

This project is configured for [Shuttle](https://www.shuttle.rs/).

```bash
cargo shuttle deploy
```
